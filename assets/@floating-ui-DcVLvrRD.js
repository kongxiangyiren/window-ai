const G=Math.min,J=Math.max,Q=Math.round,U=t=>({x:t,y:t});function F(t,e){return typeof t=="function"?t(e):t}function b(t){return t.split("-")[0]}function C(t){return t.split("-")[1]}function X(t){return t==="x"?"y":"x"}function Y(t){return t==="y"?"height":"width"}function A(t){return["top","bottom"].includes(b(t))?"y":"x"}function $(t){return X(A(t))}function Z(t){const{x:e,y:o,width:n,height:r}=t;return{width:n,height:r,top:o,left:e,right:e+n,bottom:o+r,x:e,y:o}}function k(t,e,o){let{reference:n,floating:r}=t;const d=A(e),s=$(e),c=Y(s),l=b(e),f=d==="y",u=n.x+n.width/2-r.width/2,a=n.y+n.height/2-r.height/2,m=n[c]/2-r[c]/2;let i;switch(l){case"top":i={x:u,y:n.y-r.height};break;case"bottom":i={x:u,y:n.y+n.height};break;case"right":i={x:n.x+n.width,y:a};break;case"left":i={x:n.x-r.width,y:a};break;default:i={x:n.x,y:n.y}}switch(C(e)){case"start":i[s]-=m*(o&&f?-1:1);break;case"end":i[s]+=m*(o&&f?-1:1);break}return i}const tt=async(t,e,o)=>{const{placement:n="bottom",strategy:r="absolute",middleware:d=[],platform:s}=o,c=d.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let f=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:a}=k(f,n,l),m=n,i={},p=0;for(let g=0;g<c.length;g++){const{name:T,fn:_}=c[g],{x:S,y:L,data:B,reset:w}=await _({x:u,y:a,initialPlacement:n,placement:m,strategy:r,middlewareData:i,rects:f,platform:s,elements:{reference:t,floating:e}});u=S??u,a=L??a,i={...i,[T]:{...i[T],...B}},w&&p<=50&&(p++,typeof w=="object"&&(w.placement&&(m=w.placement),w.rects&&(f=w.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:r}):w.rects),{x:u,y:a}=k(f,m,l)),g=-1)}return{x:u,y:a,placement:m,strategy:r,middlewareData:i}};async function j(t,e){const{placement:o,platform:n,elements:r}=t,d=await(n.isRTL==null?void 0:n.isRTL(r.floating)),s=b(o),c=C(o),l=A(o)==="y",f=["left","top"].includes(s)?-1:1,u=d&&l?-1:1,a=F(e,t);let{mainAxis:m,crossAxis:i,alignmentAxis:p}=typeof a=="number"?{mainAxis:a,crossAxis:0,alignmentAxis:null}:{mainAxis:a.mainAxis||0,crossAxis:a.crossAxis||0,alignmentAxis:a.alignmentAxis};return c&&typeof p=="number"&&(i=c==="end"?p*-1:p),l?{x:i*u,y:m*f}:{x:m*f,y:i*u}}const et=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var o,n;const{x:r,y:d,placement:s,middlewareData:c}=e,l=await j(e,t);return s===((o=c.offset)==null?void 0:o.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:r+l.x,y:d+l.y,data:{...l,placement:s}}}}};function x(){return typeof window<"u"}function v(t){return N(t)?(t.nodeName||"").toLowerCase():"#document"}function y(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function H(t){var e;return(e=(N(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function N(t){return x()?t instanceof Node||t instanceof y(t).Node:!1}function D(t){return x()?t instanceof Element||t instanceof y(t).Element:!1}function R(t){return x()?t instanceof HTMLElement||t instanceof y(t).HTMLElement:!1}function E(t){return!x()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof y(t).ShadowRoot}function M(t){const{overflow:e,overflowX:o,overflowY:n,display:r}=V(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(r)}function nt(t){return["table","td","th"].includes(v(t))}function W(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function q(t){const e=I(),o=D(t)?V(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>o[n]?o[n]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!e&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!e&&(o.filter?o.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function ot(t){let e=h(t);for(;R(e)&&!P(e);){if(q(e))return e;if(W(e))return null;e=h(e)}return null}function I(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function P(t){return["html","body","#document"].includes(v(t))}function V(t){return y(t).getComputedStyle(t)}function rt(t){return D(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function h(t){if(v(t)==="html")return t;const e=t.assignedSlot||t.parentNode||E(t)&&t.host||H(t);return E(e)?e.host:e}function O(t){const e=h(t);return P(e)?t.ownerDocument?t.ownerDocument.body:t.body:R(e)&&M(e)?e:O(e)}function K(t,e,o){var n;e===void 0&&(e=[]);const r=O(t),d=r===((n=t.ownerDocument)==null?void 0:n.body),s=y(r);return d?(z(s),e.concat(s,s.visualViewport||[],M(r)?r:[],[])):e.concat(r,K(r,[]))}function z(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}export{V as a,R as b,tt as c,U as d,y as e,W as f,H as g,h,D as i,P as j,nt as k,q as l,ot as m,J as n,et as o,G as p,v as q,Q as r,M as s,rt as t,K as u,Z as v,z as w,I as x};
