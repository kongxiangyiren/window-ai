import{r as M}from"./cssfilter-BwiMAv7_.js";var B={exports:{}},p={},m,$;function Z(){return $||($=1,m={indexOf:function(a,s){var g,T;if(Array.prototype.indexOf)return a.indexOf(s);for(g=0,T=a.length;g<T;g++)if(a[g]===s)return g;return-1},forEach:function(a,s,g){var T,w;if(Array.prototype.forEach)return a.forEach(s,g);for(T=0,w=a.length;T<w;T++)s.call(g,a[T],T,a)},trim:function(a){return String.prototype.trim?a.trim():a.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(a){var s=/\s|\n|\t/,g=s.exec(a);return g?g.index:-1}}),m}var J;function rr(){if(J)return p;J=1;var a=M().FilterCSS,s=M().getDefaultWhiteList,g=Z();function T(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var w=new a;function C(t,l,n){}function R(t,l,n){}function P(t,l,n){}function X(t,l,n){}function G(t){return t.replace(r,"&lt;").replace(i,"&gt;")}function O(t,l,n,o){if(n=U(n),l==="href"||l==="src"){if(n=g.trim(n),n==="#")return"#";if(!(n.substr(0,7)==="http://"||n.substr(0,8)==="https://"||n.substr(0,7)==="mailto:"||n.substr(0,4)==="tel:"||n.substr(0,11)==="data:image/"||n.substr(0,6)==="ftp://"||n.substr(0,2)==="./"||n.substr(0,3)==="../"||n[0]==="#"||n[0]==="/"))return""}else if(l==="background"){if(f.lastIndex=0,f.test(n))return""}else if(l==="style"){if(u.lastIndex=0,u.test(n)||(L.lastIndex=0,L.test(n)&&(f.lastIndex=0,f.test(n))))return"";o!==!1&&(o=o||w,n=o.process(n))}return n=_(n),n}var r=/</g,i=/>/g,e=/"/g,A=/&quot;/g,S=/&#([a-zA-Z0-9]*);?/gim,c=/&colon;?/gim,W=/&newline;?/gim,f=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,u=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,L=/u\s*r\s*l\s*\(.*/gi;function d(t){return t.replace(e,"&quot;")}function v(t){return t.replace(A,'"')}function h(t){return t.replace(S,function(n,o){return o[0]==="x"||o[0]==="X"?String.fromCharCode(parseInt(o.substr(1),16)):String.fromCharCode(parseInt(o,10))})}function E(t){return t.replace(c,":").replace(W," ")}function q(t){for(var l="",n=0,o=t.length;n<o;n++)l+=t.charCodeAt(n)<32?" ":t.charAt(n);return g.trim(l)}function U(t){return t=v(t),t=h(t),t=E(t),t=q(t),t}function _(t){return t=d(t),t=G(t),t}function y(){return""}function Q(t,l){typeof l!="function"&&(l=function(){});var n=!Array.isArray(t);function o(b){return n?!0:g.indexOf(t,b)!==-1}var I=[],k=!1;return{onIgnoreTag:function(b,V,x){if(o(b))if(x.isClosing){var D="[/removed]",tr=x.position+D.length;return I.push([k!==!1?k:x.position,tr]),k=!1,D}else return k||(k=x.position),"[removed]";else return l(b,V,x)},remove:function(b){var V="",x=0;return g.forEach(I,function(D){V+=b.slice(x,D[0]),x=D[1]}),V+=b.slice(x),V}}}function F(t){for(var l="",n=0;n<t.length;){var o=t.indexOf("<!--",n);if(o===-1){l+=t.slice(n);break}l+=t.slice(n,o);var I=t.indexOf("-->",o);if(I===-1)break;n=I+3}return l}function N(t){var l=t.split("");return l=l.filter(function(n){var o=n.charCodeAt(0);return o===127?!1:o<=31?o===10||o===13:!0}),l.join("")}return p.whiteList=T(),p.getDefaultWhiteList=T,p.onTag=C,p.onIgnoreTag=R,p.onTagAttr=P,p.onIgnoreTagAttr=X,p.safeAttrValue=O,p.escapeHtml=G,p.escapeQuote=d,p.unescapeQuote=v,p.escapeHtmlEntities=h,p.escapeDangerHtml5Entities=E,p.clearNonPrintableCharacter=q,p.friendlyAttrValue=U,p.escapeAttrValue=_,p.onIgnoreTagStripAll=y,p.StripTagBody=Q,p.stripCommentTag=F,p.stripBlankChar=N,p.attributeWrapSign='"',p.cssFilter=w,p.getDefaultCSSWhiteList=s,p}var H={},K;function er(){if(K)return H;K=1;var a=Z();function s(r){var i=a.spaceIndex(r),e;return i===-1?e=r.slice(1,-1):e=r.slice(1,i+1),e=a.trim(e).toLowerCase(),e.slice(0,1)==="/"&&(e=e.slice(1)),e.slice(-1)==="/"&&(e=e.slice(0,-1)),e}function g(r){return r.slice(0,2)==="</"}function T(r,i,e){var A="",S=0,c=!1,W=!1,f=0,u=r.length,L="",d="";r:for(f=0;f<u;f++){var v=r.charAt(f);if(c===!1){if(v==="<"){c=f;continue}}else if(W===!1){if(v==="<"){A+=e(r.slice(S,f)),c=f,S=f;continue}if(v===">"||f===u-1){A+=e(r.slice(S,c)),d=r.slice(c,f+1),L=s(d),A+=i(c,A.length,L,d,g(d)),S=f+1,c=!1;continue}if(v==='"'||v==="'")for(var h=1,E=r.charAt(f-h);E.trim()===""||E==="=";){if(E==="="){W=v;continue r}E=r.charAt(f-++h)}}else if(v===W){W=!1;continue}}return S<u&&(A+=e(r.substr(S))),A}var w=/[^a-zA-Z0-9\\_:.-]/gim;function C(r,i){var e=0,A=0,S=[],c=!1,W=r.length;function f(h,E){if(h=a.trim(h),h=h.replace(w,"").toLowerCase(),!(h.length<1)){var q=i(h,E||"");q&&S.push(q)}}for(var u=0;u<W;u++){var L=r.charAt(u),d,v;if(c===!1&&L==="="){c=r.slice(e,u),e=u+1,A=r.charAt(e)==='"'||r.charAt(e)==="'"?e:P(r,u+1);continue}if(c!==!1&&u===A){if(v=r.indexOf(L,u+1),v===-1)break;d=a.trim(r.slice(A+1,v)),f(c,d),c=!1,u=v,e=u+1;continue}if(/\s|\n|\t/.test(L))if(r=r.replace(/\s|\n|\t/g," "),c===!1)if(v=R(r,u),v===-1){d=a.trim(r.slice(e,u)),f(d),c=!1,e=u+1;continue}else{u=v-1;continue}else if(v=X(r,u-1),v===-1){d=a.trim(r.slice(e,u)),d=O(d),f(c,d),c=!1,e=u+1;continue}else continue}return e<r.length&&(c===!1?f(r.slice(e)):f(c,O(a.trim(r.slice(e))))),a.trim(S.join(" "))}function R(r,i){for(;i<r.length;i++){var e=r[i];if(e!==" ")return e==="="?i:-1}}function P(r,i){for(;i<r.length;i++){var e=r[i];if(e!==" ")return e==="'"||e==='"'?i:-1}}function X(r,i){for(;i>0;i--){var e=r[i];if(e!==" ")return e==="="?i:-1}}function G(r){return r[0]==='"'&&r[r.length-1]==='"'||r[0]==="'"&&r[r.length-1]==="'"}function O(r){return G(r)?r.substr(1,r.length-2):r}return H.parseTag=T,H.parseAttr=C,H}var z,Y;function nr(){if(Y)return z;Y=1;var a=M().FilterCSS,s=rr(),g=er(),T=g.parseTag,w=g.parseAttr,C=Z();function R(r){return r==null}function P(r){var i=C.spaceIndex(r);if(i===-1)return{html:"",closing:r[r.length-2]==="/"};r=C.trim(r.slice(i+1,-1));var e=r[r.length-1]==="/";return e&&(r=C.trim(r.slice(0,-1))),{html:r,closing:e}}function X(r){var i={};for(var e in r)i[e]=r[e];return i}function G(r){var i={};for(var e in r)Array.isArray(r[e])?i[e.toLowerCase()]=r[e].map(function(A){return A.toLowerCase()}):i[e.toLowerCase()]=r[e];return i}function O(r){r=X(r||{}),r.stripIgnoreTag&&(r.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),r.onIgnoreTag=s.onIgnoreTagStripAll),r.whiteList||r.allowList?r.whiteList=G(r.whiteList||r.allowList):r.whiteList=s.whiteList,this.attributeWrapSign=r.singleQuotedAttributeValue===!0?"'":s.attributeWrapSign,r.onTag=r.onTag||s.onTag,r.onTagAttr=r.onTagAttr||s.onTagAttr,r.onIgnoreTag=r.onIgnoreTag||s.onIgnoreTag,r.onIgnoreTagAttr=r.onIgnoreTagAttr||s.onIgnoreTagAttr,r.safeAttrValue=r.safeAttrValue||s.safeAttrValue,r.escapeHtml=r.escapeHtml||s.escapeHtml,this.options=r,r.css===!1?this.cssFilter=!1:(r.css=r.css||{},this.cssFilter=new a(r.css))}return O.prototype.process=function(r){if(r=r||"",r=r.toString(),!r)return"";var i=this,e=i.options,A=e.whiteList,S=e.onTag,c=e.onIgnoreTag,W=e.onTagAttr,f=e.onIgnoreTagAttr,u=e.safeAttrValue,L=e.escapeHtml,d=i.attributeWrapSign,v=i.cssFilter;e.stripBlankChar&&(r=s.stripBlankChar(r)),e.allowCommentTag||(r=s.stripCommentTag(r));var h=!1;e.stripIgnoreTagBody&&(h=s.StripTagBody(e.stripIgnoreTagBody,c),c=h.onIgnoreTag);var E=T(r,function(q,U,_,y,Q){var F={sourcePosition:q,position:U,isClosing:Q,isWhite:Object.prototype.hasOwnProperty.call(A,_)},N=S(_,y,F);if(!R(N))return N;if(F.isWhite){if(F.isClosing)return"</"+_+">";var t=P(y),l=A[_],n=w(t.html,function(o,I){var k=C.indexOf(l,o)!==-1,b=W(_,o,I,k);return R(b)?k?(I=u(_,o,I,v),I?o+"="+d+I+d:o):(b=f(_,o,I,k),R(b)?void 0:b):b});return y="<"+_,n&&(y+=" "+n),t.closing&&(y+=" /"),y+=">",y}else return N=c(_,y,F),R(N)?L(y):N},L);return h&&(E=h.remove(E)),E},z=O,z}var j;function ir(){return j||(j=1,function(a,s){var g=rr(),T=er(),w=nr();function C(P,X){var G=new w(X);return G.process(P)}s=a.exports=C,s.filterXSS=C,s.FilterXSS=w,function(){for(var P in g)s[P]=g[P];for(var X in T)s[X]=T[X]}(),typeof window<"u"&&(window.filterXSS=a.exports);function R(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}R()&&(self.filterXSS=a.exports)}(B,B.exports)),B.exports}var sr=ir();export{sr as l};
